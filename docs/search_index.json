[["index.html", "gisR: Aplicaciones de R como Sistema de Información Geográfica Chapter 1 Preámbulo", " gisR: Aplicaciones de R como Sistema de Información Geográfica Antonio J. Pérez-Luque 2021-10-06 Chapter 1 Preámbulo Este repositorio, trata sobre el . A lo largo de los capítulos se irán mostrando ejemplos de algunas operaciones de análisis espacial con R. El propósito general es recopilar trozos de código y ejemplos que he ido usando para el manejo de R como SIG. Se trata de un “libro” (por llamaro de algua forma) que está en continua revisión y actualización. Cualquier comentario, duda o sugerencia, puedes hacerlo abriendo un issue. "],["operaciones-vectoriales.html", "Chapter 2 Operaciones Vectoriales 2.1 Dividir una capa vectorial en múltiples partes", " Chapter 2 Operaciones Vectoriales 2.1 Dividir una capa vectorial en múltiples partes Supongamos que tenemos una capa vectorial que contiene varios polígonos, correspondientes cada uno de ellos a un registro en la tabla de atributos. Puede que nos interese generar una capa vectorial para cada uno de éstos polígonos. melojar &lt;- st_read(&quot;data/spatial/melojo_sn.shp&quot;, quiet = TRUE) mapview::mapview(melojar) Como vemos, esta capa de distribución del roble melojo en Sierra Nevada, contiene 8 polígonos correspondientes a las 8 poblaciones. POBLACION LOCALIDAD VALLE MUNICIPIO AREA PERIMETER area_nueva loc cluster 1 El Camarate Rio Alhama Lugros 4571542 51340.36 4571542 CAM N 2 Loma del Muerto Rio Genil Guejar-Sierra 3949952 36876.64 3949952 GEN NW 3 Loma de la Perdiz Rio Monachil Monachil 2045501 23749.19 2045501 MON NW 4 Puntal de los Mecheros Rio Dilar Dilar 1540713 11224.94 1540713 DIL NW 5 Loma de Enmedio Rio Durcal Durcal 1370360 25697.09 1370360 DUR NW 6 El Robledal de Ca�ar Rio Chico Ca�ar 4362011 57760.57 4362011 CAN S 7 Loma de las Matanzas y Loma de Ram�n Rio Poqueira Soportujar, Pampaneira, Bubion, Capileira 4589490 54936.91 4589490 POQ S 8 Loma de los Lores Rio Trevelez Portugos, Busquistar 1979151 31754.34 1979151 TRE S Nuestro objetivo ahora es generar tantas capas vectoriales como polígonos. Para ello, usamos esta pequeña función que hemos escrito1. splitByAttributes &lt;- function(spatialdata, codename, dsn){ codenames &lt;- unique(spatialdata[[codename]]) for (i in 1:length(codenames)) { tmp &lt;- spatialdata[spatialdata[[codename]] == codenames[i], ] sf::st_write(obj = tmp, paste0(dsn, &quot;/&quot;, codenames[i], &quot;.shp&quot;), append=FALSE, quiet=TRUE) } } La función splitByAttributes tiene los siguientes argumentos: spatialdata que indica la capa vectorial a dividir; codename es el atributo por el cual vamos a generar cada uno de los polígonos; y dsn que indica la carpeta de salida. Supongamos que para nuestra capa queremos generar un polígono para cada población de roble melojo en Sierra Nevada, es decir, el atributo por el que queremos dividir nuestra capa es loc. carpeta_destino &lt;- here::here(&quot;data/spatial/melojo_pobs&quot;) splitByAttributes(melojar, codename = &quot;loc&quot;, dsn = carpeta_destino) Si exploramos la carpeta de destino (i.e. data/spatial/melojo_pobs) podemos observar que se han creado 8 capas vectoriales con el nombre de cada una de las localidades. list.files(carpeta_destino, pattern = &quot;.shp&quot;) ## [1] &quot;CAM.shp&quot; &quot;CAN.shp&quot; &quot;DIL.shp&quot; &quot;DUR.shp&quot; &quot;GEN.shp&quot; &quot;MON.shp&quot; &quot;POQ.shp&quot; ## [8] &quot;TRE.shp&quot; Modificada a partir de https://gis.stackexchange.com/questions/347927/r-equivalent-of-arcmap-split-by-attributes↩︎ "],["references.html", "References", " References "]]
